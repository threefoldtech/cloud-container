#!/usr/bin/ash

run_hook() {
   echo "setting up network"
   ip a a 192.168.123.100/24 dev eth0
   ip l set eth0 up
}

run_latehook() {
   echo "settign up environment"
   export HOME=/root
   export PATH=/bin:/sbin:/usr/bin:/usr/sbin
   echo "checking for /etc/environment"

   file=/new_root/etc/environment
   if [ ! -f $file ]; then
      return
   fi

   echo "applying environment"
   # file exists and is regular file.

   script=$(cat $file | while read line; do
               if [ -n "${line}" ]; then
                  echo "export '${line}'"
               fi
            done)

   eval $script
}

# vim: set ft=sh ts=4 sw=4 et:
